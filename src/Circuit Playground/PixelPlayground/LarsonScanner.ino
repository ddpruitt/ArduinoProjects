#include <Adafruit_CircuitPlayground.h>

Adafruit_CPlay_NeoPixel strip;
  
int brightness = 10;
  
  void setup() {
    Serial.begin(9600);

    strip = Adafruit_CPlay_NeoPixel();
    strip.updateType(NEO_GRB + NEO_KHZ800);
    strip.updateLength(10);
    strip.setPin(CPLAY_NEOPIXELPIN);

    strip.begin();
    strip.show(); // Initialize all pixels to 'off'
    strip.setBrightness(brightness);

    CircuitPlayground.begin();
    CircuitPlayground.clearPixels();

  }
  
  void loop() {
  
   scanner(127,0,0, 30);        // red, slow
 
  }

// "Larson scanner" = Cylon/KITT bouncing light effect
void scanner(uint8_t r, uint8_t g, uint8_t b, uint8_t wait) {
  int i, j, pos, dir;

  pos = 0;
  dir = 1;

  for(i=0; i<((strip.numPixels()-1) * 8); i++) {
    // Draw 5 pixels centered on pos.  setPixelColor() will clip
    // any pixels off the ends of the strip, no worries there.
    // we'll make the colors dimmer at the edges for a nice pulse
    // look
    strip.setPixelColor(pos - 2, strip.Color(r/4, g/4, b/4));
    strip.setPixelColor(pos - 1, strip.Color(r/2, g/2, b/2));
    strip.setPixelColor(pos, strip.Color(r, g, b));
    strip.setPixelColor(pos + 1, strip.Color(r/2, g/2, b/2));
    strip.setPixelColor(pos + 2, strip.Color(r/4, g/4, b/4));

    strip.show();
    delay(wait);
    // If we wanted to be sneaky we could erase just the tail end
    // pixel, but it's much easier just to erase the whole thing
    // and draw a new one next time.
    for(j=-2; j<= 2; j++) 
        strip.setPixelColor(pos+j, strip.Color(0,0,0));
    // Bounce off ends of strip
    pos += dir;
    if(pos < 0) {
      pos = 1;
      dir = -dir;
    } else if(pos >= strip.numPixels()) {
      pos = strip.numPixels() - 2;
      dir = -dir;
    }
  }
}
  